{"ast":null,"code":"import axios from 'axios';\nexport const signUp = values => {\n  return dispatch => {\n    return new Promise(resolve => {\n      dispatch(signupRequest());\n      axios.post('http://localhost:3000/signup', values).then(() => {\n        dispatch(signupSuccess());\n        resolve();\n      }).catch(err => {\n        const message = err.response.data;\n        dispatch(signupFailure(message));\n      });\n    });\n  };\n};\nexport const logIn = values => {\n  return dispatch => {\n    return new Promise(resolve => {\n      dispatch(loginRequest());\n      axios.post('http://localhost:3000/login', values).then(res => {\n        const token = res.data.token;\n        const userData = res.data.userData;\n        localStorage.setItem('token', token);\n        dispatch(loginSuccess(userData));\n        resolve();\n      }).catch(err => {\n        if (err.response.status === 401) {\n          dispatch(loginFailure('Wrong email or password'));\n        } else {\n          dispatch(loginFailure('Something went wrong'));\n        }\n      });\n    });\n  };\n};\nexport const getUserData = () => {\n  return dispatch => {\n    dispatch(getUserDataRequest());\n    return new Promise(resolve => {\n      axios.get('http://localhost:3000/userdata', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        const userData = res.data;\n        dispatch(getUserDataSuccess(userData));\n        resolve();\n      }).catch(() => {\n        dispatch(getUserDataFailure());\n      });\n    });\n  };\n};\nexport const signupRequest = () => {\n  return {\n    type: SIGNUP_REQUEST\n  };\n};\nexport const signupSuccess = user => {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: user\n  };\n};\nexport const signupFailure = err => {\n  return {\n    type: SIGNUP_FAILURE,\n    payload: err\n  };\n};\nexport const loginRequest = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\nexport const loginSuccess = userData => {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: userData\n  };\n};\nexport const loginFailure = err => {\n  return {\n    type: LOGIN_FAILURE,\n    payload: err\n  };\n};\nexport const getUserDataRequest = () => {\n  return {\n    type: GET_USER_DATA_REQUEST\n  };\n};\nexport const getUserDataSuccess = userData => {\n  return {\n    type: GET_USER_DATA_SUCCESS,\n    payload: userData\n  };\n};\nexport const getUserDataFailure = () => {\n  return {\n    type: GET_USER_DATA_FAILURE\n  };\n};","map":{"version":3,"sources":["C:/Users/danie/Documents/web-projects/react-redux-gallery/client/src/redux/auth/authActions.js"],"names":["axios","signUp","values","dispatch","Promise","resolve","signupRequest","post","then","signupSuccess","catch","err","message","response","data","signupFailure","logIn","loginRequest","res","token","userData","localStorage","setItem","loginSuccess","status","loginFailure","getUserData","getUserDataRequest","get","headers","Authorization","getItem","getUserDataSuccess","getUserDataFailure","type","SIGNUP_REQUEST","user","SIGNUP_SUCCESS","payload","SIGNUP_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","GET_USER_DATA_REQUEST","GET_USER_DATA_SUCCESS","GET_USER_DATA_FAILURE"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nexport const signUp = (values) => {\r\n\treturn (dispatch) => {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tdispatch(signupRequest());\r\n\r\n\t\t\taxios\r\n\t\t\t\t.post('http://localhost:3000/signup', values)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tdispatch(signupSuccess());\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconst message = err.response.data;\r\n\t\t\t\t\tdispatch(signupFailure(message));\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport const logIn = (values) => {\r\n\treturn (dispatch) => {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tdispatch(loginRequest());\r\n\r\n\t\t\taxios\r\n\t\t\t\t.post('http://localhost:3000/login', values)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\tconst userData = res.data.userData;\r\n\r\n\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\tdispatch(loginSuccess(userData));\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\t\tdispatch(loginFailure('Wrong email or password'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(loginFailure('Something went wrong'));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport const getUserData = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch(getUserDataRequest());\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\taxios\r\n\t\t\t\t.get('http://localhost:3000/userdata', {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst userData = res.data;\r\n\t\t\t\t\tdispatch(getUserDataSuccess(userData));\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tdispatch(getUserDataFailure());\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport const signupRequest = () => {\r\n\treturn {\r\n\t\ttype: SIGNUP_REQUEST\r\n\t};\r\n};\r\n\r\nexport const signupSuccess = (user) => {\r\n\treturn {\r\n\t\ttype: SIGNUP_SUCCESS,\r\n\t\tpayload: user\r\n\t};\r\n};\r\n\r\nexport const signupFailure = (err) => {\r\n\treturn {\r\n\t\ttype: SIGNUP_FAILURE,\r\n\t\tpayload: err\r\n\t};\r\n};\r\n\r\nexport const loginRequest = () => {\r\n\treturn {\r\n\t\ttype: LOGIN_REQUEST\r\n\t};\r\n};\r\n\r\nexport const loginSuccess = (userData) => {\r\n\treturn {\r\n\t\ttype: LOGIN_SUCCESS,\r\n\t\tpayload: userData\r\n\t};\r\n};\r\n\r\nexport const loginFailure = (err) => {\r\n\treturn {\r\n\t\ttype: LOGIN_FAILURE,\r\n\t\tpayload: err\r\n\t};\r\n};\r\n\r\nexport const getUserDataRequest = () => {\r\n\treturn {\r\n\t\ttype: GET_USER_DATA_REQUEST\r\n\t};\r\n};\r\n\r\nexport const getUserDataSuccess = (userData) => {\r\n\treturn {\r\n\t\ttype: GET_USER_DATA_SUCCESS,\r\n\t\tpayload: userData\r\n\t};\r\n};\r\n\r\nexport const getUserDataFailure = () => {\r\n\treturn {\r\n\t\ttype: GET_USER_DATA_FAILURE\r\n\t};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}